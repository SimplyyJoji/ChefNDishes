@model List<User>;

@{
    ViewData["Title"] = "Home Page";
}

<div class="container">
<div class="col">
    <div class="row">
        <a href="/new">Chefs</a>
        <a href="">Dishes</a>
        <a href="">Add a Dish</a>
    </div>
</div>
<div class="text-center">
    <h1 class="display-4">Check out our roster of Chefs!</h1>
    <hr>
    
    <table class="table table-bordered border-primary">
        <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Age</th>
            <th scope="col"># of Dishes</th>
          </tr>
        </thead>
        <tbody>

        @foreach (var user in Model)
        {
          <tr>
            <td>@user.FirstName @user.LastName</td>
            <td>
              @{
                int today = int.Parse(DateTime.Now.ToString("yyyyMMdd"));
                int birthday = int.Parse(@user.BirthDate.ToString("yyyyMMdd"));
                int age = (today-birthday) / 10000;
              }
              @age
            </td>
            <td>
                
                @if(user.Dishes == null)
                {
                  <p>0</p>
                }    
                else
                {
                    @user.Dishes.Count();
                }
            </td>
        </tr>
        } 
        </tbody>
      </table>
</div>
</div>